<%
  // activePage가 정의되지 않은 경우 기본값 설정
  const currentPage = typeof activePage !== 'undefined' ? activePage : '';
  const adminUser = typeof user !== 'undefined' ? user : null;
%>
<aside class="main-sidebar sidebar-dark-primary elevation-4">
  <a href="/adm/dashboard" class="brand-link">
    <span class="brand-text font-weight-light">인싸인 Admin</span>
  </a>
  <div class="sidebar">
    <div class="user-panel mt-3 pb-3 mb-3 d-flex">
      <div class="image">
        <i class="fas fa-user-shield fa-2x text-white-50"></i>
      </div>
      <div class="info">
        <a href="/adm/dashboard" class="d-block"><%= adminUser?.username ?? '관리자' %></a>
      </div>
    </div>
    <nav class="mt-2">
      <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu">
        <li class="nav-item">
          <a href="/adm/dashboard" class="nav-link <%= currentPage === 'dashboard' ? 'active' : '' %>">
            <i class="nav-icon fas fa-tachometer-alt"></i>
            <p>대시보드</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/list" class="nav-link <%= currentPage === 'admins' ? 'active' : '' %>">
            <i class="nav-icon fas fa-users-cog"></i>
            <p>관리자 계정</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/users" class="nav-link <%= currentPage === 'users' ? 'active' : '' %>">
            <i class="nav-icon fas fa-user-friends"></i>
            <p>가입자 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/contracts" class="nav-link <%= currentPage === 'contracts' ? 'active' : '' %>">
            <i class="nav-icon fas fa-file-signature"></i>
            <p>계약 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/templates" class="nav-link <%= currentPage === 'templates' ? 'active' : '' %>">
            <i class="nav-icon fas fa-file-alt"></i>
            <p>템플릿 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/subscriptions" class="nav-link <%= currentPage === 'subscriptions' ? 'active' : '' %>">
            <i class="nav-icon fas fa-sync-alt"></i>
            <p>구독 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/plans" class="nav-link <%= currentPage === 'plans' ? 'active' : '' %>">
            <i class="nav-icon fas fa-layer-group"></i>
            <p>요금제 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/events" class="nav-link <%= currentPage === 'events' ? 'active' : '' %>">
            <i class="nav-icon fas fa-calendar-alt"></i>
            <p>이벤트 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/policies" class="nav-link <%= currentPage === 'policies' ? 'active' : '' %>">
            <i class="nav-icon fas fa-shield-alt"></i>
            <p>약관/정책 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/inbox" class="nav-link <%= currentPage === 'inbox' ? 'active' : '' %>">
            <i class="nav-icon fas fa-envelope"></i>
            <p>메시지함</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/inquiries" class="nav-link <%= currentPage === 'inquiries' ? 'active' : '' %>">
            <i class="nav-icon fas fa-question-circle"></i>
            <p>문의 관리</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="/adm/logout" class="nav-link text-danger">
            <i class="nav-icon fas fa-sign-out-alt"></i>
            <p>로그아웃</p>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</aside>
